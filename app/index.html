<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline'" />
  <link rel="stylesheet" href="./styles/mystyles.css">
  <link rel="stylesheet" type="text/css" href="../node_modules/@fortawesome/fontawesome-free/css/all.min.css" />

  <title>Infinite Sketch</title>
</head>

<body class="has-background-black-ter">
  <!-- App Bar -->
  <div class="tabs is-right is-boxed is-small drag mb-0 navbar is-fixed-top titleBar"
    style="height:1.5rem;background-color:#1b1a1a">
    <div class="brand">
      <span class="is-size-6 is-centered is-align-self-center ml-1 has-text-weight-bold is-family-monospace">InfiniteSketch</span>

    </div>

    <ul style="border-bottom: none;">

      <li class="minimize titleBarItem">
        <a class="no-drag">
          <span class="icon is-small has-text-grey-light">
            <i class="fas fa-minus"></i>
          </span>
        </a>
      </li>

      <li class="maximize titleBarItem">
        <a class="no-drag">
          <span class="icon is-small has-text-grey-light">
            <i class="far fa-square"></i>
          </span>
        </a>
      </li>

      <li class="close titleBarItem">
        <a class="no-drag">
          <span class="icon is-small has-text-grey-light">
            <i class="fas fa-times"></i>
          </span>
        </a>
      </li>

    </ul>

  </div>
  <!-- End of app bar -->


  <div class="startPage mt-6">

    <section class="section files-section is-centered mb-0 pb-0 mt-6 pt-0 ">
      <!-- FILE UPLOAD  -->
      <div class="container file-upload mb-4 " >
        <div class="file is-large is-centered mx-auto is-warning  uploadContainer " style="border-radius: 3px;">

          <label class="file-label" >
            <input id="upload" webkitdirectory class="file-input" type="file" />
            <span class="file-cta is-flex uploadButton" >
              <span class="file-icon pb-2">
                <i class="fas fa-upload"></i>
              </span>
              <span class="file-label ">
                Add a folder
              </span>
            </span>
          </label>
        </div>
      </div>
      <!-- END OF FILE UPLOAD  -->

      <!-- FOLDERS TABLE  -->
      <div class="container file-table mb-0 has-text-grey-light">
        <table class="table has-text-centered is-hoverable is-size-5 is-narrow has-text-grey-light"
          style="margin-left: auto; margin-right: auto">
          <thead>
            <tr>
              <th scope="col"><span class="tableText">File Name</span></th>
              <th scope="col">
                <span class="tableText"> No of picutres </span>
              </th>
            </tr>
          </thead>
          <tbody id="tableFiles"></tbody>
          <tfoot>
            <tr>
              <td>
                <span class="tableText">Total</span>
              </td>
              <td><span class="tableText" id="totalImages">0</span></td>
            </tr>
          </tfoot>
        </table>
      </div>
      <!-- END OF FOLDERS TABLE -->
    </section>

    <!-- INTERVALS INPUT -->
    <section class="section is-centered optionsSection pt-1 mb-0 pb-0">
      <div class="columns is-centered ">
        <div class="column is-center has-text-centered">
          <div class="container mb-0">
            <h1 class="is-size-4 has-text-centered has-text-grey-light my-2" >Interval</h1>
            <div class="
                  buttons
                  is-centered
                  has-addons
                  is-shadowless
                  intervals
                  m-0
                  p-0
                ">
              <button class="button is-size-5 is-size-4-desktop buttonTime is-warning has-text-white-bis" value="45">
                45S
              </button>
              <button class="button is-size-5 is-size-4-desktop buttonTime is-warning has-text-white-bis" value="120">
                2M
              </button>
              <button class="button is-size-4-desktop is-size-5 buttonTime is-h is-warning has-text-white-bis" value="300">
                5M
              </button>
              <button class="button is-size-5 is-size-4-desktop has-background-white-bis has-text-black-bis" id="setTimerButton">
                <input class="input has-text-centered is-size-5 has-background-white-bis has-text-black-bis is-size-4-desktop p-0 " id="setTimer" type="text" placeholder="45s/2m" style="border:none">
              </button>

            </div>
          </div>
        </div>
      </div>
    <!-- END OF INTERVALS INPUT -->

      <section class="section mt-0 pt-0">
        <div class="columns start is-centered">
          <div class="column is-half is-center has-text-centered px-3">
            <div class="container" style="max-width: 22rem;">
              <button id="start" class="
                  button
                  is-large is-size-4
                  is-size-3-desktop
                  is-warning
                  is-fullwidth
                ">
                Start
              </button>
            </div>
            <div class="container" style="max-width: 22rem;">
              <button id="continue" class="
                  button
                  is-large
                  is-size-3-desktop is-size-4
                  is-warning is-disabled
                  is-fullwidth
                ">
                Continue
              </button>
            </div>
          </div>
        </div>
      </section>
  </div>
  <!-- END OF START PAGE -->

  <!-- START OF PLAYER PAGE-->
  <div class="playerPage is-hidden is-center is-centered has-text-centered">

    <div class="tabs is-right is-boxed is-small drag mb-0 titleBar " style="height: 1.5rem;background-color:#1b1a1a">
      <div class="brand">
        <span class="is-size-6 is-centered is-align-self-center">ImageTimer</span>

      </div>

      <ul style="border-bottom: none;">

        <li class="minimize titleBarItem">
          <a class="no-drag">
            <span class="icon is-small mb-2">
              <i class="fas fa-window-minimize"></i>
            </span>
          </a>
        </li>

        <li class="maximize titleBarItem">
          <a class="no-drag">
            <span class="icon is-small">
              <i class="fas fa-window-maximize"></i>
            </span>
          </a>
        </li>

        <li class="close titleBarItem">
          <a class="no-drag">
            <span class="icon is-small">
              <i class="fas fa-times"></i>
            </span>
          </a>
        </li>

      </ul>

    </div>

    <div class="imageContainer is-centered has-text-centered is-centered mb-0 pb-0 mt-0 pt-0">
      <img id="mainImg" src="" alt="" />
    </div>

    <footer class="playerFooter mt-0">
      <progress class="progress is-small is-link mt-0 mb-0" id="progressBar" value="0" max="0"></progress>

      <div class="tabs is-fullwidth " id="controlsFooter">
        <ul>
          <li id="previous">
            <a class="has-text-info">
              <span class="icon"><i class="fas fa-backward" aria-hidden="true"></i></span>
              <span class="is-hidden-mobile">PREVIOUS</span>
            </a>
          </li>
          <li id="pause">
            <a class="has-text-info">
              <span class="icon"><i class="fas fa-pause " aria-hidden="true" id="pauseIcon"></i></span>
              <span class="is-hidden-mobile" id="pauseText">PAUSE</span>
            </a>
          </li>
          <li id="next">
            <a class="has-text-info">
              <span class="is-hidden-mobile">NEXT</span>
              <span class="icon"><i class="fas fa-forward" aria-hidden="true"></i></span>
            </a>
          </li>

          <li id="end">
            <a class="has-text-info">
              <span class="is-hidden-mobile">END</span>
              <span class="icon">
                <i class="fa-solid fa-stop"></i>
              </span>
            </a>
          </li>

          <li id="hide">
            <a class="has-text-info">
              <span class="is-hidden-mobile">HIDE</span>
              <span class="icon"><i class="fa fa-minus" aria-hidden="true"></i></span>
            </a>
          </li>
        </ul>
      </div>
    </footer>
  </div>

  <div class="modal" id="endModal" >
    <div class="modal-background"></div>
    <div class="modal-card" style="width:80%!important;max-width: 30rem;">
      <header class="modal-card-head has-text-centered">
        <p class="modal-card-title has-text-centered">Save Session & End</p>
        <button class="delete" aria-label="close"></button>
      </header>

      <footer class="modal-card-foot">

            <div class="container m-0 ml-auto" style="max-width: 8rem;">
              <button id="modalYes" class="
                  button
                  is-medium 
                  has-text-weight-semibold
                  is-success is-disabled
                  is-fullwidth
                  mr-1
                ">
                Yes
              </button>
            </div>
            <div class="container m-0 mr-2" style="max-width: 8rem;">
              <button id="modalNo" class="
                  button
                  is-medium 
                  has-text-weight-semibold
                  is-danger is-disabled
                  is-fullwidth
                  ml-1
                  mr-0
                ">
                Cancel
              </button>
            </div>

            <div class="container m-0 ml-0 mr-auto" style="max-width: 5rem;">
              <button id="modalHome" class="
                  button
                  is-medium 
                  has-text-weight-semibold
                  is-warning is-disabled
                  is-fullwidth
                  ml-0
                ">
                <i class="fa-solid fa-house"></i>
              </button>
            </div>

      </footer>
    </div>
  </div>

    <script src="javascript/handleFileUpload.js" type="module"></script>
    <script src="javascript/renderFiles.js" type="module"></script>
    <script src="javascript/imagePlayer.js" type="module"></script>
    <script src="javascript/timer.js" type="module"></script>
    <script>
      // disable forward and backward buttons
      window.addEventListener("mouseup", (e) => {
        if (e.button === 3 || e.button === 4) e.preventDefault();
      });
      window.addEventListener("mouseup", (e) => {
         if(e.key === "Escape") {

      }
      });

        window.addEventListener('contextmenu', (e) => {
          e.preventDefault();
          api.menu();
        })

      document.querySelectorAll('.minimize').forEach(element => {
        element.addEventListener('click', () => {
          api.minimize()
        })
      });
      document.querySelectorAll('.maximize').forEach(element => {
        element.addEventListener('click', () => {
          api.maximize()
        })
      });
      document.querySelectorAll('.close').forEach(element => {
        element.addEventListener('click', () => {

          api.close()
        })
      });


    </script>
</body>

</html>